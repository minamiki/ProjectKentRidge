(function(a){a.fn.stretch=function(b){b=a.extend({},a.fn.stretch.defaults,b);if(!(b.max>=0)||!(b.min>=0)){b.min=b.max=0}this.each(function(){var d=a(this),f=d.find("> .stretch--handle");if(!d.hasClass("stretch--resizer")||!f){f=a(this).wrap("<span class='stretch--handle' />").parent();d=f.wrap("<div class='stretch--resizer' />").parent();f.css("margin","0").css("padding","0");d.css("margin","0").css("padding","0");d.css("white-space","nowrap").css("overflow","hidden")}var m=d.width(),e,h=b.min||1,k=h;if(!b.max){do{h=k;k*=2;d.css("font-size",k+"px");var l=f.width();e=l<=e?m:l}while(e<m)}else{k=b.max;if(h==k){d.css("font-size",k+"px")}}if(e==m){return}while(h<k){var j=Math.floor((h+k)/2);d.css("font-size",j+"px");e=f.width();if(e==m){break}if(e<m){h=j+1}else{k=j}}if(e>m){d.css("font-size",(k-1)+"px")}var i=0,n=f.width(),g=b.maxSpacing;do{i+=1;d.css("word-spacing",i+"px");e=f.width()}while(i<=g&&e<=m&&e>n);d.css("word-spacing",(i-1)+"px")});return this};a.fn.stretch.defaults={min:0,max:0,maxSpacing:0}})(jQuery);